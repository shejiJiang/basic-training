<!doctype html>
<html>
<head>
  <title>贝塞尔曲线</title>
  <meta charset="utf-8">
  <meta name="viewport" content="initial-scale=1.0,user-scalable=no,maximum-scale=1,width=device-width,viewport-fit=cover">
</head>
<body>
<canvas id="demoCanvas" width="200" height="200" style="background: #ccc;"/>
<script type="text/javascript" src="common.js"></script>
<script type="text/javascript">
  let dt = 1 / 100;
  const p0 = { x: 0, y: 10 }, p1 = { x: 100, y: 50 };
  const p2 = { x: 40, y: 10 }, p3 = { x: 60, y: 50 };
  const points = [];
  for (let i = 0; i <= 100; i++) {
    const t = i * dt;

    // 线性贝塞尔
    // const x = p0.x + (p1.x - p0.x) * t;
    // const y = p0.y + (p1.y - p0.y) * t;

    // 二次贝塞尔
    const x = (1 - t) * (1 - t) * p0.x + 2 * t * (1 - t) * p1.x + t * t * p2.x;
    const y = (1 - t) * (1 - t) * p0.y + 2 * t * (1 - t) * p1.y + t * t * p2.y;

    points.push({ x: Math.round(x), y: Math.round(y) });
  }

  render(points);

</script>
</body>
</html>
